from python import PythonObject


@value
struct Response(Copyable):
    var status_code: Int
    var body: String

    fn __init__(inout self, status_code: Int, body: String) -> None:
        self.status_code = status_code
        self.body = body

    fn to_bytes(self, py_builtins: PythonObject) raises -> PythonObject:
        return py_builtins.bytes(self.body, "utf-8")

    @staticmethod
    fn from_raw(raw_response: String) -> Self:
        return Response(
            status_code=200,
            body=raw_response,
        )
