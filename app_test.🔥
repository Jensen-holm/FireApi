from FireApi import Route, HTTPMicroService, Response, Request


@value
struct MyRoute(Route):
    var endpoint: String
    var method: String

    fn func(self, request: Request) raises -> Response:
        return Response(
            status_code=200,
            body="Hello FireApi!",
        )

    fn get_method(self) -> String:
        return self.method

    fn get_endpoint(self) -> String:
        return self.endpoint


fn main() raises -> None:
    let app = HTTPMicroService()

    let main_route = MyRoute(
        endpoint="/",
        method="GET",
    )

    app.run[MyRoute](route=main_route)
